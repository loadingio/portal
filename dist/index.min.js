!function(){var t,e={fixed:function(t){return this.root=(t=null==t?{}:t).root,this.childNodes=Array.from(this.root.childNodes),this.init(),this}};e.fixed.prototype=((t=Object.create(Object.prototype)).init=function(){var i=this;return this.ph=[0,1].map(function(){return document.createElement("div")}).map(function(t){var e=t.style;return e.width="100%",e.height="0px",e.gridColumn="1 / -1",i.root.appendChild(t)}),this.root.addEventListener("scroll",function(){return i.locate()}),this.rbox={height:0}},t.setchild=function(t){var e=document.createElement("template");if(e.innerHTML=t,this.childNodes=Array.from(e.content.childNodes),this.root.innerHTML="",this.ph[0].parentNode||this.root.insertBefore(this.ph[0],this.root.childNodes[0]),!this.ph[1].parentNode)return this.root.appendChild(this.ph[1])},t.update=function(t){var e,i,h,o,s,r,n,d;for(null==t&&(t=0),this.range=[1,0],this.row=1,this.count=1,this.range[0]=(e=this.range[0])<(i=this.childNodes.length-1)?e:i,this.range[1]=(e=this.range[1])<(i=this.childNodes.length-1)?e:i,h=0,o=this.childNodes.length;h<o;++h)s=h,this.childNodes[s].parentNode&&this.childNodes[s].parentNode.removeChild(this.childNodes[s]);for(r=(e=t||this.childNodes.length)<(i=this.childNodes.length)?e:i,h=0;h<r;++h)s=h,this.childNodes[s].parentNode||this.root.insertBefore(this.childNodes[s],this.ph[1]);for(this.ph[0].style.height=this.ph[1].style.height="0px",this.root.scrollTop=0,this.rbox=t=this.root.getBoundingClientRect(),n=void 0,h=0;h<r;++h)if(s=h,this.childNodes[s].nodeType===Node.ELEMENT_NODE)if(d=this.childNodes[s].getBoundingClientRect(),this.lineHeight=d.height,null==n)n=d.y;else{if(d.y!==n){this.lineHeight=d.y-n;break}this.count++}for(this.row=Math.ceil(4*t.height/(this.lineHeight||1)),this.delta=1<(e=this.row*this.count)?e:1,h=0;h<r;++h)s=h,this.childNodes[s].parentNode.removeChild(this.childNodes[s]);return this.locate()},t.locate=function(){var t,e,i,h,o,s,r,n=[this.childNodes.length,this.delta,this.count,this.childNodes,this.lineHeight,this.root,this.ph,this.rbox,this.range],d=n[0],l=n[1],c=n[2],p=n[3],a=n[4],u=n[5],f=n[6],N=n[7],g=n[8];for(f[0].parentNode||u.insertBefore(f[0],u.childNodes[0]),f[1].parentNode||u.appendChild(f[1]),t=(n=[d,-1])[0],e=n[1],i=0;l<0?d<i:i<d;i+=l)r={y:(o=(n=(h=i)+l-1)<(s=p.length-1)?n:s)/c*a,height:a},{y:h/c*a,height:a}.y-u.scrollTop<=1.5*N.height&&r.y+r.height-u.scrollTop>-.5*N.height&&(h<t&&(t=h),e<o)&&(e=o);for(u.scrollTop>u.scrollHeight/2&&t===d&&-1===e&&(t=(n=[l*Math.floor(d/l),d-1])[0],e=n[1]),i=0<(n=g[0])?n:0;i<t;++i)p[h=i].parentNode&&p[h].parentNode.removeChild(p[h]);for(i=(n=g[0]-1)>t?n:t;t<=i;--i)p[h=i].parentNode||u.insertBefore(p[h],f[0].nextSibling);for(i=g[1];e<i;--i)p[h=i].parentNode&&p[h].parentNode.removeChild(p[h]);for(i=0<(n=(s=g[1]+1)<e?s:e)?n:0;i<=e;++i)p[h=i].parentNode||u.insertBefore(p[h],f[1]);return this.range=[t,e],f[0].style.height=a*(0<(n=t/c)?n:0)+"px",f[1].style.height=a*Math.floor((d-e-1)/c)+"px"},t.appendChild=function(t){return this.childNodes.splice(this.childNodes.length,0,t)},t.insertBefore=function(t,e){e=this.childNodes.indexOf(e);return e<0&&(e=this.childNodes.length),this.childNodes.splice(e,0,t)},t.removeChild=function(t){if(~(t=this.childNodes.indexOf(t)))return this.childNodes.splice(t,1)},t),e.dummy=function(t){return this.root=(t=null==t?{}:t).root,this.childNodes=[],this},e.dummy.prototype=((t=Object.create(Object.prototype)).appendChild=function(t){return this.childNodes.splice(this.childNodes.length,0,t),this.root.appendChild(t)},t.insertBefore=function(t,e){return this.childNodes.splice(this.childNodes.indexOf(e),0,t),this.root.insertBefore(t,e)},t.removeChild=function(t){var e;if(~(e=this.childNodes.indexOf(t)))return this.childNodes.splice(e,1),this.root.removeChild(t)},t),"undefined"!=typeof module&&null!==module?module.exports=e:"undefined"!=typeof window&&null!==window&&(window.vscroll=e)}.call(this);
